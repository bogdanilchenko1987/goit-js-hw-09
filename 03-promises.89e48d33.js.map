{"mappings":"oeAAA,IAAAA,EAAAC,EAAA,SAEA,MAAMC,EAAO,CACXC,KAAMC,SAASC,cAAc,SAC7BC,KAAMF,SAASC,cAAc,YAC7BE,OAAQH,SAASC,cAAc,cAC/BG,MAAOJ,SAASC,cAAc,aAC9BI,IAAKL,SAASC,cAAc,YAG9B,IAAIK,EAAO,GAwCX,SAASC,EAAcC,EAAUJ,GAC/B,OAAO,IAAIK,SAAQ,CAACC,EAASC,KACLC,KAAKC,SAAW,GAEpCH,EAAQ,C,SAAEF,E,MAAUJ,IAEpBO,EAAO,C,SAAEH,E,MAAUJ,GAAQ,G,CA5CjCN,EAAKC,KAAKe,iBAAiB,SAgC3B,WACER,EAAKH,OAASY,OAAOjB,EAAKK,OAAOa,OACjCV,EAAKJ,KAAOa,OAAOjB,EAAKI,KAAKc,OAC7BV,EAAKF,MAAQW,OAAOjB,EAAKM,MAAMY,M,IAlCjClB,EAAKO,IAAIS,iBAAiB,SAE1B,SAAiBG,GACfA,EAAIC,iBACJ,MAAMC,EAAM,GAEZ,IAAK,IAAIC,EAAI,EAAGA,GAAKd,EAAKH,OAAQiB,GAAK,EAAG,CACxC,MAAMhB,EAAQE,EAAKF,MAAQE,EAAKJ,MAAQkB,EAAI,GAE5CD,EAAIE,KAAKd,EAAca,EAAGhB,G,CAG5BkB,QAAQC,IAAIJ,GAEZV,QAAQe,WAAWL,GAAKM,MAAKC,IAC3BA,EAAQC,SAAQ,CAACC,EAAQC,KACvB,MAAMzB,EAAQE,EAAKF,MAAQE,EAAKJ,KAAO2B,EAEjB,cAAlBD,EAAOE,OACTlC,EAAAmC,OAAOC,QAAQ,uBAAqBH,EAAK,QAASzB,MAAW,CACzD6B,QAAO,GAAG7B,MAGdR,EAAAmC,OAAOG,QAAQ,sBAAoBL,EAAK,QAASzB,MAAW,CACxD6B,QAAO,GAAG7B,KACZ,GAEJ,G","sources":["src/js/03-promises.js"],"sourcesContent":["import { Notify } from 'notiflix';\n\nconst refs = {\n  form: document.querySelector('.form'),\n  step: document.querySelector('.js-step'),\n  amount: document.querySelector('.js-amount'),\n  delay: document.querySelector('.js-delay'),\n  btn: document.querySelector('.js-btn'),\n};\n\nlet data = {};\n\nrefs.form.addEventListener('input', onInput);\nrefs.btn.addEventListener('click', onClick);\n\nfunction onClick(evt) {\n  evt.preventDefault();\n  const arr = [];\n\n  for (let i = 1; i <= data.amount; i += 1) {\n    const delay = data.delay + data.step * (i - 1);\n\n    arr.push(createPromise(i, delay));\n  }\n\n  console.log(arr);\n\n  Promise.allSettled(arr).then(results => {\n    results.forEach((result, i) => {\n      const delay = data.delay + data.step * i;\n\n      if (result.status === 'fulfilled') {\n        Notify.success(`✅ Fulfilled promise ${i + 1} in ${delay}ms`, {\n          timeout: `${delay}`,\n        });\n      } else {\n        Notify.failure(`❌ Rejected promise ${i + 1} in ${delay}ms`, {\n          timeout: `${delay}`,\n        });\n      }\n    });\n  });\n}\n\nfunction onInput() {\n  data.amount = Number(refs.amount.value);\n  data.step = Number(refs.step.value);\n  data.delay = Number(refs.delay.value);\n}\n\nfunction createPromise(position, delay) {\n  return new Promise((resolve, reject) => {\n    const shouldResolve = Math.random() > 0.5;\n    if (shouldResolve) {\n      resolve({ position, delay });\n    } else {\n      reject({ position, delay });\n    }\n  });\n}\n\n// const promis = createPromise(2, 1500)\n//   .then(({ position, delay }) => {\n//     return console.log(`✅ Fulfilled promise ${position} in ${delay}ms`);\n//   })\n//   .catch(({ position, delay }) => {\n//     return console.log(`❌ Rejected promise ${position} in ${delay}ms`);\n//   });\n\n// console.log(promis);\n"],"names":["$1GAPJ","parcelRequire","$47d4ff9957288465$var$refs","form","document","querySelector","step","amount","delay","btn","$47d4ff9957288465$var$data","$47d4ff9957288465$var$createPromise","position","Promise","resolve","reject","Math","random","addEventListener","Number","value","evt","preventDefault","arr","i1","push","console","log","allSettled","then","results","forEach","result","i","status","Notify","success","timeout","failure"],"version":3,"file":"03-promises.89e48d33.js.map"}