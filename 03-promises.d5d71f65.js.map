{"mappings":"gfAAA,IAAAA,EAAAC,EAAA,SAEMC,EAAO,CACXC,KAAMC,SAASC,cAAc,SAC7BC,KAAMF,SAASC,cAAc,YAC7BE,OAAQH,SAASC,cAAc,cAC/BG,MAAOJ,SAASC,cAAc,aAC9BI,IAAKL,SAASC,cAAc,YAG1BK,EAAO,GAwCX,SAASC,EAAcC,EAAUJ,GAC/B,OAAO,IAAIK,SAAQ,SAACC,EAASC,GACLC,KAAKC,SAAW,GAEpCH,EAAQ,CAAEF,WAAUJ,UAEpBO,EAAO,CAAEH,WAAUJ,S,IA5CzBN,EAAKC,KAAKe,iBAAiB,SAgC3B,WACER,EAAKH,OAASY,OAAOjB,EAAKK,OAAOa,OACjCV,EAAKJ,KAAOa,OAAOjB,EAAKI,KAAKc,OAC7BV,EAAKF,MAAQW,OAAOjB,EAAKM,MAAMY,M,IAlCjClB,EAAKO,IAAIS,iBAAiB,SAE1B,SAAiBG,GACfA,EAAIC,iBAGJ,IAFA,IAAMC,EAAM,GAEHC,EAAI,EAAGA,GAAKd,EAAKH,OAAQiB,GAAK,EAAG,CACxC,IAAMhB,EAAQE,EAAKF,MAAQE,EAAKJ,MAAQkB,EAAI,GAE5CD,EAAIE,KAAKd,EAAca,EAAGhB,G,CAG5BkB,QAAQC,IAAIJ,GAEZV,QAAQe,WAAWL,GAAKM,MAAK,SAAAC,GAC3BA,EAAQC,SAAQ,SAACC,EAAQC,GACvB,IAAMzB,EAAQE,EAAKF,MAAQE,EAAKJ,KAAO2B,EAEjB,cAAlBD,EAAOE,OACTlC,EAAAmC,OAAOC,QAAQ,uBAAqCC,OAAZJ,EAAI,EAAE,QAAYI,OAAN7B,EAAM,MAAK,CAC3D8B,QAAO,GAASD,OAAN7B,KAGdR,EAAAmC,OAAOI,QAAQ,sBAAoCF,OAAZJ,EAAI,EAAE,QAAYI,OAAN7B,EAAM,MAAK,CAC1D8B,QAAO,GAASD,OAAN7B,I","sources":["src/js/03-promises.js"],"sourcesContent":["import { Notify } from 'notiflix';\n\nconst refs = {\n  form: document.querySelector('.form'),\n  step: document.querySelector('.js-step'),\n  amount: document.querySelector('.js-amount'),\n  delay: document.querySelector('.js-delay'),\n  btn: document.querySelector('.js-btn'),\n};\n\nlet data = {};\n\nrefs.form.addEventListener('input', onInput);\nrefs.btn.addEventListener('click', onClick);\n\nfunction onClick(evt) {\n  evt.preventDefault();\n  const arr = [];\n\n  for (let i = 1; i <= data.amount; i += 1) {\n    const delay = data.delay + data.step * (i - 1);\n\n    arr.push(createPromise(i, delay));\n  }\n\n  console.log(arr);\n\n  Promise.allSettled(arr).then(results => {\n    results.forEach((result, i) => {\n      const delay = data.delay + data.step * i;\n\n      if (result.status === 'fulfilled') {\n        Notify.success(`✅ Fulfilled promise ${i + 1} in ${delay}ms`, {\n          timeout: `${delay}`,\n        });\n      } else {\n        Notify.failure(`❌ Rejected promise ${i + 1} in ${delay}ms`, {\n          timeout: `${delay}`,\n        });\n      }\n    });\n  });\n}\n\nfunction onInput() {\n  data.amount = Number(refs.amount.value);\n  data.step = Number(refs.step.value);\n  data.delay = Number(refs.delay.value);\n}\n\nfunction createPromise(position, delay) {\n  return new Promise((resolve, reject) => {\n    const shouldResolve = Math.random() > 0.5;\n    if (shouldResolve) {\n      resolve({ position, delay });\n    } else {\n      reject({ position, delay });\n    }\n  });\n}\n\n// const promis = createPromise(2, 1500)\n//   .then(({ position, delay }) => {\n//     return console.log(`✅ Fulfilled promise ${position} in ${delay}ms`);\n//   })\n//   .catch(({ position, delay }) => {\n//     return console.log(`❌ Rejected promise ${position} in ${delay}ms`);\n//   });\n\n// console.log(promis);\n"],"names":["$ejkSG","parcelRequire","$ce04d3a99e08e73b$var$refs","form","document","querySelector","step","amount","delay","btn","$ce04d3a99e08e73b$var$data","$ce04d3a99e08e73b$var$createPromise","position","Promise","resolve","reject","Math","random","addEventListener","Number","value","evt","preventDefault","arr","i1","push","console","log","allSettled","then","results","forEach","result","i","status","Notify","success","concat","timeout","failure"],"version":3,"file":"03-promises.d5d71f65.js.map"}